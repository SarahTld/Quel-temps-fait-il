import{r as u,D as l}from"./DuGDK2SR.js";const g=()=>{const r=u("metric"),s=()=>{try{const t=localStorage.getItem("weather-settings");if(t){const e=JSON.parse(t);r.value=e.units||"metric"}}catch(t){console.error("Erreur lors du chargement des unités:",t),r.value="metric"}},a=t=>{r.value=t;{const e=localStorage.getItem("weather-settings"),n=e?JSON.parse(e):{};n.units=t,localStorage.setItem("weather-settings",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("units-changed",{detail:t}))}},i=()=>r.value==="imperial"?"imperial":"metric",o=t=>{const e=r.value==="imperial"?"°F":"°C";return`${Math.round(t)}${e}`},c=t=>{const e=r.value==="imperial"?"mph":"km/h";return`${Math.round(t)} ${e}`};return s(),{units:l(r),loadUnits:s,changeUnits:a,getApiUnits:i,formatTemperature:o,formatWindSpeed:c}};export{g as u};
